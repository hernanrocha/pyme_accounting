<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- TODO: Renombrar este archivo -->

    <template id="report_payslip">
        <t t-call="web.html_container">

            <!-- <t t-foreach="docs" t-as="o"> -->
                <t t-call="web.external_layout">

<div class="page">

    <!-- http://localhost:8069/report/html/pyme_accounting.report_payslip/895 -->

    <style>
        table.table-sm > thead > tr > th{
            border:1px solid #808080;
            border-spacing: 0;
        }
        table.table-sm > tbody > tr > th{
            border:1px solid #808080;
            border-spacing: 0;
        }
        table.table-sm > tbody > tr > td{
            border:1px solid #808080;
            border-spacing: 0;
        }
    </style>

    <div class="text-center">
        <h3 t-esc="name"></h3>
    </div>

    <!-- https://fontawesome.com/v4.7/examples/ -->
    <!-- <div>
        <i class="fa fa-camera-retro"></i> fa-camera-retro
    </div> -->

    <div class="row">
        <!-- TODO: compras y ventas de los ultimos 12 meses. Categoria, pago mensual, max categoria -->

        <!-- <div class="col-md-3">
            <div class="card">asd</div>
        </div>
        <div class="col-md-3">
            <div class="card">A3</div>
        </div>
        <div class="col-md-3">
            <div class="card">A5</div>
        </div>
        <div class="col-md-3">
            <div class="card">A7</div>
        </div> -->
    </div>

    <div class="row">
        <div class="col-md-8 offset-md-2">
            <table class="table table-sm table-bordered table-hover">
                <thead>
                    <tr class="table-primary">
                        <th scope="col">Mes</th>
                        <th scope="col">Total Ventas</th>
                        <th scope="col">Total Compras</th>
                        <th scope="col">Ganancia Bruta</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="docs" t-as="o">
                        <tr>
                            <th scope="row"><t t-esc="o['date']"></t></th>
                            <td><t t-esc="o['total_sales']"></t></td>
                            <td><t t-esc="o['total_purchases']"></t></td>
                            <td><t t-esc="o['balance']"></t></td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </div>

    <!-- <div class="row">
        <div class="col-md-6">
            <canvas id="myChart" width="400" height="200"></canvas>

            <p>SARASA</p>
        </div>

        <div class="col-md-6">

        <table class="table table-sm table-bordered table-hover">
        <thead>
            <tr class="table-primary">
            <th scope="col">Categor√≠a</th>
            <th scope="col">Ingresos Brutos</th>
            <th scope="col">Servicios</th>
            <th scope="col">Bienes Muebles</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">A</th><td>$ 208.739,25</td><td>$ 1.955,68</td><td>$ 1.955,68</td>
            </tr>
            <tr>
                <th scope="row">B</th><td>$ 313.108,87</td><td>$ 2.186,80</td><td>$ 2.186,80</td>
            </tr>
            <tr>
                <th scope="row">C</th><td>$ 417.478,51</td><td>$ 2.499,91</td><td>$ 2.457,65</td>
            </tr>
            <tr>
                <th scope="row">D</th><td>$ 626.217,78</td><td>$ 2.947,94</td><td>$ 2.878,37</td>
            </tr>
            <tr>
                <th scope="row">E</th><td>$ 834.957,00</td><td>$ 3.872,18</td><td>$ 3.482,04</td>
            </tr>
            <tr>
                <th scope="row">F</th><td>$ 1.043.696,27</td><td>$ 4.634,89</td><td>$ 4.003,69</td>
            </tr>
            <tr>
                <th scope="row">G</th><td>$ 1.252.435,53</td><td>$ 5.406,02</td><td>$ 4.558,61</td>
            </tr>
            <tr>
                <th scope="row">H</th><td>$ 1.739.493,79</td><td>$ 9.451,93</td><td>$ 7.886,41</td>
            </tr>
            <tr>
                <th scope="row">I</th><td>$ 2.043.905,21</td><td>-</td><td>$ 11.336,71</td>
            </tr>
            <tr>
                <th scope="row">J</th><td>$ 2.348.316,62</td><td>-</td><td>$ 13.019,83</td>
            </tr>
            <tr>
                <th scope="row">K</th><td>$ 2.609.240,69</td><td>-</td><td>$ 14.716,41</td>
            </tr>
        </tbody>
        </table>

        </div>
    </div> -->


</div>

    <!-- https://www.chartjs.org/docs/2.9.4/ -->
    <script src="/web/static/lib/Chart/Chart.js"></script>
    <script>
        console.log("HELLO WORLD")
        console.log(Chart)
        var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
    </script>
                </t>
            <!-- </t> -->
        </t>
    </template>

    <record id="report_basic" model="ir.actions.report">
        <field name="name">'Invoice' % (object.name)</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">pyme_accounting.report_payslip</field>
        <field name="print_report_name">'Base - %s' % (object.name)</field>
        <field name="binding_model_id" ref="model_account_move" />
        <field name="binding_type">report</field> 
    </record>

    <!-- <record id="action_print_report_general_ledger_html" model="ir.actions.report">
        <field name="name">General Ledger</field>
        <field name="model">general.ledger.report.wizard</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">account_financial_report.general_ledger</field>
        <field name="report_file">account_financial_report.general_ledger</field>
    </record> -->

</odoo>